#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo 'ğŸ—ï¸ ğŸ‘· Pre-push Check'

echo 'ğŸ—ï¸ ğŸ‘· Checking dirties...'

git diff HEAD --quiet || (
    echo 'âŒ âŒ âŒ You have un-committed changes âŒ âŒ âŒ';
    false;
)

echo 'ğŸ—ï¸ ğŸ‘· Type Checking...'

yarn type || (
  echo 'âŒ âŒ âŒ Type check Failed âŒ âŒ âŒ'
  false;
)

echo 'ğŸ—ï¸ ğŸ‘· Building project...'

yarn build || (
  echo 'âŒ âŒ âŒ Build Failed âŒ âŒ âŒ'
  false;
)

echo 'âœ… âœ… âœ… All passed. Pusing them. âœ… âœ… âœ…'
